(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{33:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=33},34:function(t,e){},43:function(t,e,n){},58:function(t,e){},59:function(t,e){},60:function(t,e){},61:function(t,e){},62:function(t,e){},63:function(t,e){},79:function(t,e){},80:function(t,e){},81:function(t,e){},85:function(t,e){},87:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),i=n(36),o=n.n(i),a=(n(43),n(3)),u=n(12),f=n(24),s=n(37),l=n.n(s),d=n(38),h=n.n(d),p=n(2),b=["afterEach","after","beforeEach","before","describe","it"];function y(t,e){var n;return t.forEachChild((function(t){t.getKind()===e&&(n=t)})),n}function v(t){return t.trim().substring(1,t.length-1)}function x(t){var e=y(t,p.SyntaxKind.CallExpression);if(e){var n=y(e,p.SyntaxKind.FunctionExpression)||y(e,p.SyntaxKind.ArrowFunction);if(n)return y(n,p.SyntaxKind.Block)}}function j(t){var e=y(t,p.SyntaxKind.CallExpression);if(!e)return"";var n=y(e,p.SyntaxKind.StringLiteral);if(!n){var r=y(e,p.SyntaxKind.TemplateExpression);return r?v(r.getText()):""}return v(n.getText())}function g(t){if(!t)return[];var e=[];return t.forEachChild((function(t){if(p.Node.isExpressionStatement(t)){var n=function(t){var e=t.getExpression();if(p.Node.isCallExpression(e)){var n=e.getExpression();if(p.Node.isIdentifier(n))return n.getText()}return""}(t);if(b.includes(n)){var r=x(t);e.push({type:n,title:j(t),children:r?g(r):[],node:t,level:0})}else e.push({type:"",title:"",children:g(t),node:t,level:0})}else e.push({type:"",title:"",children:g(t),node:t,level:0})})),e}function E(t){var e=new p.Project;try{var n=e.createSourceFile("spec.ts",t);return{mochaNodes:O(g(n.getFirstChildByKindOrThrow(p.SyntaxKind.ExpressionStatement).getParent())),sourceFile:n}}catch(r){return{mochaNodes:[],sourceFile:e.createSourceFile("error.ts","")}}}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return t.forEach((function(t){t.level=e,n.push(t),n.push.apply(n,Object(u.a)(O(t.children,e+1)))})),n}var m=n(4);function F(t,e,n){if("describe"===t.type){var r,c={before:[],main:[],after:[]};r="__rootDescribe"===e?"":"".concat(e?"".concat(e," - "):"").concat(t.title);var i=t.children.filter((function(t){return"beforeEach"===t.type})).map((function(t){return F(t,r)})).join("\n"),o=t.children.filter((function(t){return"afterEach"===t.type})).map((function(t){return F(t,r)})).join("\n"),a=c.before;t.children.forEach((function(t){"before"===t.type?c.before.push(F(t,r)):"after"===t.type?c.after.push(F(t,r)):"beforeEach"===t.type||"afterEach"===t.type||(("it"===t.type||"describe"===t.type||T(t))&&(a=c.main),a.push(F(t,r,{beforeEach:i,afterEach:o})))}));var u=c.before.join("\n")+c.main.join("\n")+c.after.join("\n");return n?n.beforeEach+u+n.afterEach:u}if("it"===t.type){var f,s=x(t.node);return s?(f=n?n.beforeEach+s.getFullText()+n.afterEach:s.getFullText(),"\n\t\t\t\tcy.log(`".concat("".concat(e?"".concat(e," - "):"").concat(t.type," ").concat(t.title).trim(),"`);\n\t\t\t\t").concat(f,"\n\t\t\t")):""}if(""!==t.type){var l=x(t.node);return l?"\n\t\t\t\tcy.log(`".concat("".concat(e?"".concat(e," - "):"").concat(t.type," ").concat(t.title).trim(),"`);\n\t\t\t\t").concat(l.getFullText(),"\n\t\t\t"):""}if(p.Node.isBlock(t.node)){var d=[];return t.children.forEach((function(t){d.push(F(t,e,n))})),d.join("\n")}return T(t)&&S(t).forEach((function(t){t.node=t.node.replaceWithText("{".concat(F(t,e),"}"))})),t.node.getFullText()}function S(t){var e=[];return t.children.forEach((function(t){p.Node.isBlock(t.node)?e.push(t):e.push.apply(e,Object(u.a)(S(t)))})),e}function T(t){return t.children.reduce((function(t,e){return!!t||("it"===e.type||"describe"===e.type||T(e))}),!1)}var w=function(){var t=Object(r.useState)("// paste spec here"),e=Object(a.a)(t,2),n=e[0],c=e[1],i=Object(r.useState)(),o=Object(a.a)(i,2),s=o[0],d=o[1],p=Object(r.useState)([]),b=Object(a.a)(p,2),y=b[0],v=b[1],x=Object(r.useState)(""),j=Object(a.a)(x,2),g=j[0],O=j[1];return Object(r.useEffect)((function(){d(E(n))}),[n]),Object(r.useEffect)((function(){if(n&&s&&0!==y.length){var t=E(n),e=t.mochaNodes.filter((function(t){return"describe"===t.type}))[y[0]],r=F(e,"__rootDescribe"),c="\n\t\t\tit('".concat(e.title,"', () => {\n\t\t\t\t","\n\t\t\t\t").concat(r,"\n\t\t\t});\n\t\t");t.mochaNodes.filter((function(t){return"describe"===t.type}))[y[0]].node.replaceWithText(c);try{var i=l.a.format(t.sourceFile.getText(),{parser:"typescript",plugins:[h.a]});O(i)}catch(o){t.sourceFile.formatText(),O(t.sourceFile.getText())}}}),[n,s,y]),Object(m.jsxs)("div",{className:"App",style:{display:"flex",flexDirection:"row"},children:[Object(m.jsx)(f.a,{height:"90vh",width:"40vw",defaultLanguage:"typescript",defaultValue:n,onChange:function(t){t&&c(t)}}),Object(m.jsx)("div",{style:{width:"20vw"},children:s&&s.mochaNodes.filter((function(t){return"describe"===t.type})).map((function(t,e){return Object(m.jsxs)("div",{children:[Object(m.jsxs)("label",{style:{paddingLeft:20*t.level},children:[Object(m.jsx)("input",{type:"checkbox",onChange:function(t){v((function(n){return t.target.checked?[].concat(Object(u.a)(n),[e]):n.filter((function(t){return t!==e}))}))}})," ",t.title]}),Object(m.jsx)("br",{})]},e)}))}),Object(m.jsx)("div",{children:Object(m.jsx)(f.a,{height:"90vh",width:"40vw",defaultLanguage:"typescript",value:g})})]})},N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),r(t),c(t),i(t),o(t)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(w,{})}),document.getElementById("root")),N()}},[[87,1,2]]]);
//# sourceMappingURL=main.666a8e0c.chunk.js.map
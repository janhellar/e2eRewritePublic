(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{33:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=33},34:function(t,e){},43:function(t,e,n){},58:function(t,e){},59:function(t,e){},60:function(t,e){},61:function(t,e){},62:function(t,e){},63:function(t,e){},79:function(t,e){},80:function(t,e){},81:function(t,e){},85:function(t,e){},87:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),i=n(36),o=n.n(i),a=(n(43),n(4)),u=n(5),f=n(24),s=n(37),l=n.n(s),d=n(38),p=n.n(d),h=n(3),b=["afterEach","after","beforeEach","before","describe","it"];function j(t,e){var n;return t.forEachChild((function(t){t.getKind()===e&&(n=t)})),n}function v(t){return t.trim().substring(1,t.length-1)}function y(t){var e=j(t,h.SyntaxKind.CallExpression);if(e){var n=j(e,h.SyntaxKind.FunctionExpression)||j(e,h.SyntaxKind.ArrowFunction);if(n)return j(n,h.SyntaxKind.Block)}}function x(t){var e=j(t,h.SyntaxKind.CallExpression);if(!e)return"";var n=j(e,h.SyntaxKind.StringLiteral);if(!n){var r=j(e,h.SyntaxKind.TemplateExpression);return r?v(r.getText()):""}return v(n.getText())}function g(t){if(!t)return[];var e=[];return t.forEachChild((function(t){if(h.Node.isExpressionStatement(t)){var n=function(t){var e=t.getExpression();if(h.Node.isCallExpression(e)){var n=e.getExpression();if(h.Node.isIdentifier(n))return n.getText()}return""}(t);if(b.includes(n)){var r=y(t);e.push({type:n,title:x(t),children:r?g(r):[],node:t,level:0})}else e.push({type:"",title:"",children:g(t),node:t,level:0})}else e.push({type:"",title:"",children:g(t),node:t,level:0})})),e}function m(t){var e=new h.Project;try{var n=e.createSourceFile("spec.ts",t);return{mochaNodes:O(g(n.getFirstChildByKindOrThrow(h.SyntaxKind.ExpressionStatement).getParent())),sourceFile:n}}catch(r){return{mochaNodes:[],sourceFile:e.createSourceFile("error.ts","")}}}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return t.forEach((function(t){t.level=e,n.push(t),n.push.apply(n,Object(u.a)(O(t.children,e+1)))})),n}var E=n(2);function F(t,e,n){if("describe"===t.type){var r,c={before:[],main:[],after:[]},i=Object(u.a)(t.children),o="";if("__rootDescribe"===e){r="";var a=i.filter((function(t){return"before"===t.type})),f=i.filter((function(t){return"after"===t.type}));o+=a.map((function(t){return t.node.getFullText()})).join("\n"),o+=f.map((function(t){return t.node.getFullText()})).join("\n"),i=i.filter((function(t){return"before"!==t.type&&"after"!==t.type}))}else r="".concat(e?"".concat(e," - "):"").concat(t.title);var s=i.filter((function(t){return"beforeEach"===t.type})).map((function(t){return F(t,r)})).join("\n"),l=i.filter((function(t){return"afterEach"===t.type})).map((function(t){return F(t,r)})).join("\n"),d=c.before;i.forEach((function(t){"before"===t.type?c.before.push(F(t,r)):"after"===t.type?c.after.push(F(t,r)):"beforeEach"===t.type||"afterEach"===t.type||(("it"===t.type||"describe"===t.type||T(t))&&(d=c.main),d.push(F(t,r,{beforeEach:s,afterEach:l})))}));var p="";return p="__rootDescribe"===e?"\n\t\t\t\t".concat(c.before.join("\n"),"\n\t\t\t\t\n\t\t\t\t").concat(o,"\n\t\t\t\t\n\t\t\t\tit('should pass', () => {\n\t\t\t\t\t").concat(c.main.join("\n"),"\n\t\t\t\t});\n\t\t\t"):"\n\t\t\t\t".concat(c.before.join("\n"),"\n\n\t\t\t\t").concat(c.main.join("\n"),"\n\t\t\t\n\t\t\t\t").concat(c.after.join("\n"),"\n\t\t\t"),n?n.beforeEach+p+n.afterEach:p}if("it"===t.type){var b,j=y(t.node);return j?(b=n?n.beforeEach+j.getFullText()+n.afterEach:j.getFullText(),"\n\t\t\t\tcy.log(`".concat("".concat(e?"".concat(e," - "):"").concat(t.type," ").concat(t.title).trim(),"`);\n\t\t\t\t").concat(b,"\n\t\t\t")):""}if(""!==t.type){var v=y(t.node);return v?"\n\t\t\t\tcy.log(`".concat("".concat(e?"".concat(e," - "):"").concat(t.type," ").concat(t.title).trim(),"`);\n\t\t\t\t").concat(v.getFullText(),"\n\t\t\t"):""}if(h.Node.isBlock(t.node)){var x=[];return t.children.forEach((function(t){x.push(F(t,e,n))})),x.join("\n")}return T(t)&&S(t).forEach((function(t){t.node=t.node.replaceWithText("{".concat(F(t,e),"}"))})),t.node.getFullText()}function S(t){var e=[];return t.children.forEach((function(t){h.Node.isBlock(t.node)?e.push(t):e.push.apply(e,Object(u.a)(S(t)))})),e}function T(t){return t.children.reduce((function(t,e){return!!t||("it"===e.type||"describe"===e.type||T(e))}),!1)}var w=function(){var t=Object(r.useState)("\n// paste spec here\n\n// example:\n\ndescribe('test D', () => {\n\n\tbefore(() => {\n\t\tbeforeCommand();\n\t});\n\n\tit('should test 1', () => {\n\t\tcommand1();\n\t});\n\n\tit('should test 2', () => {\n\t\tcommand2();\n\t});\n\n});\n"),e=Object(a.a)(t,2),n=e[0],c=e[1],i=Object(r.useState)(),o=Object(a.a)(i,2),s=o[0],d=o[1],h=Object(r.useState)([]),b=Object(a.a)(h,2),j=b[0],v=b[1],y=Object(r.useState)([]),x=Object(a.a)(y,2),g=x[0],O=x[1],S=Object(r.useState)(""),T=Object(a.a)(S,2),w=T[0],C=T[1];return Object(r.useEffect)((function(){d(m(n))}),[n]),Object(r.useEffect)((function(){if(n){var t=m(n);j.forEach((function(e){var n=t.mochaNodes.filter((function(t){return"describe"===t.type}))[e],r=F(n,"__rootDescribe"),c="\n\t\t\t\tdescribe(`".concat(n.title,"`, () => {\n\t\t\t\t\t").concat(r,"\n\t\t\t\t});\n\t\t\t");n.node=n.node.replaceWithText(c)}));try{var e=l.a.format(t.sourceFile.getText(),{parser:"typescript",plugins:[p.a]});C(e)}catch(r){t.sourceFile.formatText(),C(t.sourceFile.getText())}}}),[n,j]),Object(E.jsxs)("div",{className:"App",style:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(f.a,{height:"90vh",width:"40vw",defaultLanguage:"typescript",defaultValue:n,onChange:function(t){O([]),v([]),t&&c(t)}}),Object(E.jsxs)("div",{style:{width:"20vw"},children:[Object(E.jsx)("br",{}),"Select describes you want to merge into one it:",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),s&&s.mochaNodes.filter((function(t){return"describe"===t.type})).map((function(t,e){return Object(E.jsxs)("div",{children:[Object(E.jsxs)("label",{style:{paddingLeft:20*t.level},children:[Object(E.jsx)("input",{type:"checkbox",checked:j.includes(e),disabled:g.includes(e),onChange:function(t){v((function(n){return function(t,e,n){if(!s)return[];var r=s.mochaNodes.filter((function(t){return"describe"===t.type})),c=Object(u.a)(t),i=Object(u.a)(g);if(n?c.push(e):c=c.filter((function(t){return t!==e})),e<r.length-1)for(var o=r.map((function(t,e){return{node:t,index:e}})).slice(e+1),a=!0,f=0;f<o.length&&a;f++)o[f].node.level<=r[e].level?a=!1:function(){var t=o[f].index;n?(c=c.filter((function(e){return e!==t})),i.includes(t)||i.push(t)):i=i.filter((function(e){return e!==t}))}();return O(i),c}(n,e,t.target.checked)}))}})," ",t.title]}),Object(E.jsx)("br",{})]},e)}))]}),Object(E.jsx)("div",{children:Object(E.jsx)(f.a,{height:"90vh",width:"40vw",defaultLanguage:"typescript",value:w})})]})},C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),r(t),c(t),i(t),o(t)}))};o.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(w,{})}),document.getElementById("root")),C()}},[[87,1,2]]]);
//# sourceMappingURL=main.ea737d50.chunk.js.map
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{33:function(n,t){function e(n){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id=33},34:function(n,t){},43:function(n,t,e){},57:function(n,t){},58:function(n,t){},59:function(n,t){},60:function(n,t){},61:function(n,t){},62:function(n,t){},78:function(n,t){},79:function(n,t){},80:function(n,t){},84:function(n,t){},87:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e.n(r),i=e(36),o=e.n(i),u=(e(43),e(5)),a=e(4),f=e(24),s="\n// paste spec here\n\n// example:\n\ndescribe('test D', () => {\n\n\tbefore(() => {\n\t\tbeforeCommand();\n\t});\n\n\tit('should test 1', () => {\n\t\tcommand1();\n\t});\n\n\tit('should test 2', () => {\n\t\tcommand2();\n\t});\n\n});\n",l=e(3);function d(n){return(new l.Project).createSourceFile("code.ts",n)}function h(n){if(l.Node.isExpressionStatement(n)){var t=n.getExpression();if(l.Node.isCallExpression(t)){var e=t.getExpression();if(l.Node.isIdentifier(e))return e.getText()}}return""}function p(n,t){var e;return n.forEachChild((function(n){n.getKind()===t&&(e=n)})),e}function b(n){var t=[];return n.forEachChild((function(n){l.Node.isBlock(n)?t.push(n):t.push.apply(t,Object(u.a)(b(n)))})),t}function v(n){var t=p(n,l.SyntaxKind.CallExpression);if(t){var e=p(t,l.SyntaxKind.FunctionExpression)||p(t,l.SyntaxKind.ArrowFunction);if(e)return p(e,l.SyntaxKind.Block)}}var x=e(37),j=e.n(x),g=e(38),m=e.n(g);function O(n){return n.trim().substring(1,n.length-1)}var E=["afterEach","after","beforeEach","before"];["describe","it"].concat(E);function y(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=[];return n.forEachChild((function(n){var r=D(n);r&&e.push({title:A(n),level:t,node:n}),e.push.apply(e,Object(u.a)(y(n,r?t+1:t)))})),e}function S(n,t){t.forEach((function(n){n.node.replaceWithText(function(n){var t=v(n);if(!t)return"";var e="",r=function(n){var t=J(n),e=t.filter((function(n){return P(n,"before")})),r=t.filter((function(n){return P(n,"after")}));return[].concat(Object(u.a)(e),Object(u.a)(r)).map((function(n){return n.getFullText()})).join("\n")}(t),c=k(t,e),i=B(J(t).filter((function(n){return!I(n)})));return"\n    describe(`".concat(A(n),"`, () => {\n      ").concat(w(i.before,e),"\n      \n      ").concat(r,"\n      \n      it('should pass', () => {\n        ").concat(w(i.main,e,c),"\n      });\n    });\n  ")}(n.node))}));try{return j.a.format(n.getText(),{parser:"typescript",plugins:[m.a]})}catch(e){return n.formatText(),n.getText()}}function T(n){return J(n).reduce((function(n,t){return!!n||(!(!P(t,"it")&&!P(t,"describe"))||T(t))}),!1)}function C(n,t,e){return P(n,"describe")?function(n,t,e){var r=v(n);if(!r)return"";var c=B(J(r)),i=N(t,A(n)),o=k(r,i);return L("\n    ".concat(w(c.before,i),"\n\n    ").concat(w(c.main,i,o),"\n\n    ").concat(w(c.after,i),"\n  "),e)}(n,t,e):P(n,"it")?function(n,t,e){var r=v(n);return r?"\n    ".concat(F(t,n),"\n    ").concat(L(r.getFullText(),e),"\n  "):""}(n,t,e):I(n)?function(n,t){var e=v(n);return e?"\n    ".concat(F(t,n),"\n    ").concat(e.getFullText(),"\n  "):""}(n,t):l.Node.isBlock(n)?function(n,t,e){var r=[];return n.forEachChild((function(n){r.push(C(n,t,e))})),r.join("\n")}(n,t,e):(T(n)&&function(n,t,e){b(n).forEach((function(n){n.replaceWithText("{".concat(C(n,t,e),"}"))}))}(n,t,e),n.getFullText())}function w(n,t,e){return n.map((function(n){return C(n,t,e)})).join("\n")}function F(n,t){var e="".concat(h(t)," ").concat(A(t)).trim();return"cy.log(`".concat(N(n,e),"`);")}function N(n,t){return"".concat(n?"".concat(n," - "):"").concat(t)}function k(n,t){return{beforeEach:K(n,"beforeEach",t),afterEach:K(n,"afterEach",t)}}function K(n,t,e){return J(n).filter((function(n){return P(n,t)})).map((function(n){return C(n,e)})).join("\n")}function L(n,t){return t?t.beforeEach+n+t.afterEach:n}function B(n){var t={before:[],main:[],after:[]},e=t.before;return n.forEach((function(n){P(n,"before")?t.before.push(n):P(n,"after")?t.after.push(n):I(n)||((P(n,"it")||P(n,"describe")||T(n))&&(e=t.main),e.push(n))})),t}function D(n){return!!l.Node.isExpressionStatement(n)&&"describe"===h(n)}function P(n,t){return!!l.Node.isExpressionStatement(n)&&h(n)===t}function I(n){if(l.Node.isExpressionStatement(n)){var t=h(n);return E.includes(t)}return!1}function A(n){var t=p(n,l.SyntaxKind.CallExpression);if(!t)return"";var e=p(t,l.SyntaxKind.StringLiteral);if(e)return O(e.getText());var r=p(t,l.SyntaxKind.TemplateExpression);return r?O(r.getText()):""}function J(n){var t=[];return n.forEachChild((function(n){t.push(n)})),t}var M=e(2);var U=function(){var n=Object(r.useState)(d(s)),t=Object(a.a)(n,2),e=t[0],c=t[1],i=Object(r.useState)([]),o=Object(a.a)(i,2),l=o[0],h=o[1],p=Object(r.useState)([]),b=Object(a.a)(p,2),v=b[0],x=b[1],j=Object(r.useState)(""),g=Object(a.a)(j,2),m=g[0],O=g[1];return Object(r.useEffect)((function(){var n;if(e){var t=d(e.getFullText()),r=y(null===(n=t.getFirstChild())||void 0===n?void 0:n.getParent()).filter((function(n,t){return l.includes(t)}));O(S(t,r))}}),[e,l]),Object(M.jsxs)("div",{className:"App",style:{display:"flex",flexDirection:"row",overflowY:"hidden"},children:[Object(M.jsx)(f.a,{height:"100vh",width:"40vw",defaultLanguage:"typescript",defaultValue:s,onChange:function(n){x([]),h([]),n&&c(d(n))},options:{minimap:{enabled:!1},theme:"vs-dark",lineNumbers:"off"}}),Object(M.jsxs)("div",{style:{width:"20vw",padding:20},children:[Object(M.jsxs)("h2",{children:["source spec -",">"," flattened spec"]}),"Select ",Object(M.jsx)("i",{children:"describes"})," you want to flatten:",Object(M.jsx)("br",{}),Object(M.jsx)("br",{}),e&&y(e).map((function(n,t){return Object(M.jsxs)("div",{children:[Object(M.jsxs)("label",{style:{paddingLeft:20*n.level},children:[Object(M.jsx)("input",{type:"checkbox",checked:l.includes(t),disabled:v.includes(t),onChange:function(n){h((function(r){return function(n,t,r){if(!e)return[];var c=y(e),i=Object(u.a)(n),o=Object(u.a)(v);if(r?i.push(t):i=i.filter((function(n){return n!==t})),t<c.length-1)for(var a=c.map((function(n,t){return{node:n,index:t}})).slice(t+1),f=!0,s=0;s<a.length&&f;s++)a[s].node.level<=c[t].level?f=!1:function(){var n=a[s].index;r?(i=i.filter((function(t){return t!==n})),o.includes(n)||o.push(n)):o=o.filter((function(t){return t!==n}))}();return x(o),i}(r,t,n.target.checked)}))}})," ",n.title]}),Object(M.jsx)("br",{})]},t)}))]}),Object(M.jsx)("div",{children:Object(M.jsx)(f.a,{height:"100vh",width:"40vw",defaultLanguage:"typescript",value:m,options:{readOnly:!0,minimap:{enabled:!1},theme:"vs-dark",lineNumbers:"off"}})})]})},W=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,88)).then((function(t){var e=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;e(n),r(n),c(n),i(n),o(n)}))};o.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(U,{})}),document.getElementById("root")),W()}},[[87,1,2]]]);
//# sourceMappingURL=main.0849c3a2.chunk.js.map